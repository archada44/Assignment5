@model Review

@{
    ViewData["Title"] = "Reviews";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<main class="main">
    <section class="hero">
        <h2>Read and Share Reviews</h2>
        <p>Explore book reviews by readers like you or add your own insights for others to discover.</p>
    </section>

    <section class="add-review">
        <h3>Add a Review</h3>
        <form asp-controller="Reviews" asp-action="Create" method="post">
            <label asp-for="BookTitle">Choose a book:</label>
            <select asp-for="BookTitle" class="form-control">
                <option value="The Lord of the Rings">The Lord of the Rings</option>
                <option value="Pride and Prejudice">Pride and Prejudice</option>
                <option value="The Hitchhiker's Guide to the Galaxy">The Hitchhiker's Guide to the Galaxy</option>
                <option value="A Brief History of Time">A Brief History of Time</option>
                <!-- Add more options as needed -->
            </select>
            <label asp-for="ReviewText">Your Review:</label>
            <textarea asp-for="ReviewText" class="form-control" placeholder="Write your review here..."></textarea>
            <button type="submit" class="btn btn-primary">Submit Review</button>
        </form>
    </section>

    <section class="reviews-list">
        <h3>Reviews</h3>
        <div id="reviewsContainer">
            @* Dynamic review list should be rendered here. For now, let's assume there are no dynamic reviews loaded. *@
            <!-- This part will be handled dynamically later, for now, it can be static or handled via JavaScript -->
        </div>
    </section>
</main>

@section Scripts {
    <script>
        function filterReviews() {
            var selectedBook = document.getElementById("bookDropdown").value;
            var reviews = document.querySelectorAll('.review');
            reviews.forEach(review => {
                if (review.querySelector('h4').textContent === selectedBook || selectedBook === "all") {
                    review.style.display = 'block';
                } else {
                    review.style.display = 'none';
                }
            });
        }
    </script>
}
